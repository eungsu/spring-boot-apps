# 사용자 등록

## 구성 파일
#### `pages/SignupPage.jsx`
- `/signup` URL에 매칭되는 페이지다.
- 주요 내용
  - 회원가입 폼을 표현하는 `Signup.jsx` 컴포넌트를 포함한다.

#### `components/Signup.jsx`
- 회원가입폼을 표시하는 컴포넌트다.
- 주요 내용
  - 회원가입폼의 폼입력값 관리
  - 이벤트 핸들러 정의
  - 회원가입 폼

#### `api/auth.js`
- `axios`를 사용하여 백엔드 API와 통신한다.
- 주요 내용
  - 회원가입 요청 함수 제공

## 코드 구현하기

### 백엔드 API와 연동
1. `api/auth.js` 작성하기
    ```javascript
    const API_BASE = 'http://localhost:8080/api/auth'
    ```
2. 회원가입 요청 서버로 보내고 응답받기
   - 요청방식: `POST`
   - 요청URI: `/api/auth/signup`
   - 요청데이터: `{"username":"hong", "password":"hong123", "email":"hong123@gmail.com", "nickname":"홍길동", "tel":"010-1111-1111"}`
   - 응답데이터: `{"statusCode":200, "message":"회원가입이 완료되었습니다.", "data":null}`
    ```
    export const signup = async (userData) => {
      const response = await axios.post(`${API_BASE}/signup`, userData);
      return response.data;
    }
    ```

### 회원가입폼 컴포넌트
1. `Signup` 컴포넌트 작성하기
    ```jsx
    const Signup = () => {
      // 코드 생략
    }
    export default Signup;
    ```
    
2. `useState()`로 폼입력데이터 초기화하고 상태관리하기
    ```jsx
    // useState로 폼입력데이터를 초기화하고, formData와 setFormData로 관리한다.
    const [formData, setFormData] = useState({
      username: '',
      password: '',
      email: '',
      nickname: '',
      tel: ''
    });
    ```
3. 입력폼  작성하기
    ```jsx
    return (
      <form>
        ...
        <input type="text" className="form-control" name="username"/>
        ...
        <input type="text" className="form-control" name="password"/>
        ...
        <input type="text" className="form-control" name="email"/>
        ...
        <input type="text" className="form-control" name="nickname"/>
        ...
        <input type="text" className="form-control" name="toel"/>
        ...
        <button type="submit" className="btn btn-primary">회원가입</button>
      </form>
    )
    ```
4. 입력필드값 변경시 실행되는 이벤트핸들러 작성하기
    ```jsx
    const handleChage = (e) => {
      const { name, value } = e.target;
      setFormData((prev) => ({ ...prev, [name]:value }));
    }
    ```
5. 입력필드에 이벤트핸들러 바인딩하기
    ```jsx
    return (
      <form>
        ...
        <input type="text" className="form-control" name="username" onClick={handleChange} />
        ...
        <input type="text" className="form-control" name="password" onClick={handleChange}/>
        ...
        <input type="text" className="form-control" name="email" onClick={handleChange} />
        ...
        <input type="text" className="form-control" name="nickname" onClick={handleChange} />
        ...
        <input type="text" className="form-control" name="toel"  onClick={handleChange}/>
        ...
        <button type="submit" className="btn btn-primary">회원가입</button>
      </form>
    )
    ```
6. `<form/>`에서 `submit`이벤트 발생시 실행되는 이벤트핸들러 작성하기
    ```jsx
    const handleSubmit = async (e) => {
      e.preventDefault();
      try {
        // auth.js에 정의된 signup()함수를 호출한다.
        const response = await signup(formData);
        alert(response.message);
        navigate('/');
      } catch (error) {
        alert(error.data.message);
      }
    }  
    ```
7. `<form>`태그에 이벤트핸들러 바인딩하기
    ```jsx
    return (
      <form onSubmit={handleSubmit}>
        // 코드생략
      </form> 
    );
    ```

### 회원가입 페이지 작성하기
1. `SignupPage`  작성하기
    ```jsx
    const SignupPage = () => {
      return (

      );
    }
    export defatul SignupPage;
    ```
2. `PageContainer`와 `Signup`컴포넌트 포함하기
    ```jsx
    const SignupPage = () => {
      return (
        <PageContainer title="회원가입">
          <Signup />
        </PageContainer>
      );
    }
    export defatul SignupPage;
    ```
